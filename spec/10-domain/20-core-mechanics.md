# Core Mechanics: The Gardening Metaphor

## 1. 도파민 보상 회로와 가변 비율 강화 (Variable Ratio Reinforcement)
*   **원리:** 식물의 성장은 본질적으로 예측 불가능한 변수(환경, 돌연변이)를 포함합니다.
*   **적용:** 물주기(기록) 행위 시 즉각적인 반응(잎의 흔들림, 색 변화)을 주되, '개화(Blossoming)'와 '열매(Fruiting)'는 확률적/주기적으로 발생시켜 기대감을 유지합니다.
*   **시각적 보상:** 사용자의 정서 데이터(Phenotype)에 따라 식물의 형태와 색상이 미묘하게 달라지는 'Generative Art' 요소를 도입합니다.

## 2. 핵심 루프 (Core Loop)

### 2.1 영양분 공급 (Input)
사용자의 '자기 기록'이 식물의 식사가 됩니다.
*   **물방울 (Water):** 단순 탭 입력 (SAM 척도 체크). 식물의 목마름(Are you okay?)을 해소.
*   **액체 비료 (Nutrient):** 텍스트 기록 (감사 일기, 감정 로그).
*   **특수 영양제 (Special Formula):** 퀘스트 완료 (가치관 선언, 수면 미션 성공).

### 2.2 돌보기 (Action)
*   **물주기/쓰다듬기:** 화면의 화분이나 잎을 터치하고 드래그하는 제스처.
*   **가지치기 (Pruning):** 부정적인 감정(분노, 불안)을 기록하고 '잘라내는' 의식적 행위 (Act of letting go).

### 2.3 기다림 (Mindfulness)
*   **성장의 시간:** 물을 준 후 즉시 꽃이 피지 않습니다. 밤(비활성 시간) 동안 자라거나, 다음 접속 시 변화를 확인합니다.
*   **활동:** 식물이 자라는 동안 들려오는 '자연의 소리(ASMR)'와 함께 호흡하기.
*   **목적:** 즉각적인 도파민 추구를 지연시키고, '돌봄의 과정' 자체에 집중하게 함.

### 2.4 수확 (Reward)
*   **유형 보상:**
    *   **꽃/열매:** 사용자의 주된 감정 상태를 반영하는 고유한 식물 도감 채우기.
    *   **정원 꾸미기:** 화분 주변을 꾸밀 수 있는 자연물(돌, 이끼, 작은 동물).
    *   **씨앗:** 새로운 식물을 키울 수 있는 가능성.
*   **무형 보상:**
    *   **성장 일지:** 나의 감정이 어떻게 예쁜 식물로 변모했는지 보여주는 타임라인.
    *   **그늘 (Shelter):** 마음이 힘들 때 쉬어갈 수 있는 나만의 안전한 공간 확인.

## 3. 환경 및 확률적 생장 알고리즘 (Environment & Random Growth)
사용자가 설정한 환경 변수(Environmental Variables)가 '확률의 토양'이 되어, 그곳에서 자라날 식물을 결정합니다. (Designed by Prof. Bloom)

### 3.1 3대 환경 변수 (The 3 Pillars)
1.  **☀️ Sunlight (일조량): Valence (기분/긍정성)**
    *   **High:** 밝고 화사한 꽃, 큰 잎. (광합성 활발)
    *   **Low:** 은은한 발광 식물, 덩굴 식물. (음지 식물)
    *   **Lux Mapping Rule:**
        | Lux (조도) | Level (0-100) | Description | Plant Type |
        | :--- | :--- | :--- | :--- |
        | 0 ~ 500 | 0 ~ 10 | 어두운 실내 / 새벽 | 음지 식물, 발광 버섯 |
        | 500 ~ 2,500 | 10 ~ 25 | 저광 / 구석진 실내 | 고사리, 스킨답서스 |
        | 2,500 ~ 10,000 | 25 ~ 50 | 일반 관엽식물 / 간접광 | 몬스테라, 야자류 |
        | 10,000 ~ 50,000 | 50 ~ 80 | 밝은 실외 / 반그늘 | 허브류, 꽃 피는 식물 |
        | 50,000 ~ 100,000 | 80 ~ 100 | 직사광 / 사막 | 선인장, 다육이, 야생화 |
2.  **🌡️ Temperature (온도): Arousal (에너지/활력)**
    *   **Mapping Rule:**
        | 범위(°C) | 라벨 | 의미 |
        | :--- | :--- | :--- |
        | 0–10°C | Low | 무기력 / 저각성 |
        | 10–18°C | Cool | 안정 · 차분 |
        | 18–26°C | Optimal | 균형, 성장 최적 |
        | 26–32°C | Warm | 고각성 / 긴장 |
        | 32–40°C | Hot | 스트레스 / 붕괴 |
3.  **💧 Humidity (습도): Immersion (몰입/감수성)**
    *   **Mapping Rule:**
        | 습도 범위 (%) | 라벨 | 생태 의미 | 심리 의미(메타포) |
        | :--- | :--- | :--- | :--- |
        | 0–20 | 극저습 | 극건조 | 단절·메마름 |
        | 20–40 | 저습 | 건조 | 긴장·경직 |
        | 40–60 | 중간 | 정상 | 안정·균형 |
        | 60–80 | 고습 | 풍부한 수분 | 따뜻함·감정 흐름 |
        | 60–80 | 고습 | 풍부한 수분 | 따뜻함·감정 흐름 |
        | 80–100 | 극고습 | 과습·포화 | 감정 과부하 |

### 3.1.1 측정 알고리즘 (Measurement Logic)
입력된 데이터는 다음과 같은 규칙으로 환경 변수에 반영됩니다. (Dr. Neuro's Rule)

1.  **일조량 & 온도 (Valence & Arousal):**
    *   **Emotion Mapping:** 사용자가 선택한 '핵심 감정'에 미리 할당된 좌표값을 사용합니다.
        *   *기쁨 (Joy):* Valence(High) + Arousal(Mid)
        *   *분노 (Anger):* Valence(Low) + Arousal(High)
        *   *슬픔 (Sadness):* Valence(Low) + Arousal(Low)
        *   *평온 (Peace):* Valence(Mid) + Arousal(Low)
    *   **Smoothing:** 급격한 변화를 막기 위해 **이동 평균(Moving Average)**을 사용하여 서서히 변화합니다.

2.  **습도 (Immersion - Decay & Replenish):**
    *   **Base Rule:** 습도는 시간에 따라 자연스럽게 감소(Dry out)합니다.
        *   *Decay Rate:* -2% / hour
    *   **Replenish (충전):** 사용자 활동에 따라 증가합니다.
        *   *Check-in (물주기):* +10%
        *   *Reflection (글쓰기):* +30% (글자 수에 비례)
    *   **Feedback:** 습도가 30% 이하로 떨어지면 식물이 '목마름(Thirsty)' 반응을 보입니다.

### 3.2 확률적 적소 모델 (Stochastic Niche Model)
*   **원리:** 특정 환경 값(예: 고온 다습)이 설정되면, 해당 환경을 *선호(Preference)*하는 식물군의 출현 확률이 높아질 뿐, 100% 확정되지 않습니다.
*   **다양성 (Biodiversity):** 
    *   80% 확률로 해당 환경 적합종(Dominant Species) 등장.
    *   15% 확률로 적응력이 강한 일반종(Generalist) 등장.
    *   **5% 확률로 희귀 변이종(Mutant) 등장** (예: 사막에서 피는 연꽃). -> *가변 보상(Variable Reward)의 핵심*

### 3.3 표현형 매핑 (Phenotype Mapping)
같은 '해바라기' 씨앗이라도 환경에 따라 다르게 자랍니다.
*   **햇빛 과다:** 키가 매우 크고 꽃잎이 만개함.
*   **수분 부족:** 줄기가 갈색으로 목질화되고 뿌리가 깊어짐.
*   **온도 저하:** 꽃잎 색이 짙어지고 털이 생김(보온).

### 3.4 성장 단계 구조 (Growth Stage Structure)
식물은 공통적인 5단계를 거치며, 종에 따라 특수 단계가 추가됩니다.

1.  **기본 5단계 (Common Stages):**
    *   **Level 1: Seed (씨앗)** - 잠재력, 시작.
    *   **Level 2: Sprout (새싹)** - 발아, 희망.
    *   **Level 3: Young Plant (어린 식물)** - 성장, 적응.
    *   **Level 4: Mature Plant (성숙)** - 굳건함, 정체성 확립.
    *   **Level 5: Bloom / Peak (개화/정점)** - 결실, 완성.

2.  **종별 특수 단계 (Unique Extensions):**
    *   기본 단계 외에 **+1~2개의 고유 단계**를 추가하여 식물의 개성을 표현합니다.
    *   *예: 선인장 (Puffing - 몸집 불리기), 꽃 (Full Bloom - 만개), 열매 식물 (Fruit Stage - 결실).*

## 4. Dr. Mind's Note
> "잡초는 없습니다. 단지 아직 이름을 모르는 식물일 뿐입니다. 당신의 모든 감정은 저마다의 꽃을 피울 씨앗이 됩니다."

## 5. Plant Species Database (식물 도감 데이터)
*상세 데이터는 [Plant Database Table](30-plant-database.md) 문서를 참조하세요.*

Mind-Gardener는 총 **50종**의 고유한 식물 데이터를 보유하고 있으며, 이는 3대 환경 변수(Lux, Temp, Hum)에 따라 확률적으로 배정됩니다.
